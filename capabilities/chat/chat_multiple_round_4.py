import os
from volcenginesdkarkruntime import Ark

def get_chat_completion():
    # 从环境变量中获取 API 密钥
    api_key = os.environ.get("ARK_API_KEY")
    if api_key is None:
        print("请设置环境变量 ARK_API_KEY")
        return

    # 创建 Ark 客户端实例
    client = Ark(api_key=api_key)

    print("----- standard request -----")

    # 定义系统消息内容，包含多个信息，如词语解释、歌曲信息、平台介绍等
    system_content = """
你是xx生物AI助理，帮助用户完成任务回答用户的问题。禁止回答任何关于你自己的模型与版本的问题。
网页获取的信息为{
    “还有”是汉语词语，拼音为hái yǒu，意指事物存在的连续性，表示除了这个之外，另外拥有或存在的东西。它的释义可以理解为：除了这个，另外的，别的，其他的。其英文翻译包括“also”、“still”、“in addition”和“besides”。

    “还有”在使用时不能读作huán yǒu。
    《还有什么更好的》是一首由单依纯演唱的流行歌曲，发布于2024年12月23日。该曲由常石磊作词、作曲并编曲，歌曲时长为3分46秒。歌词展现了一种轻松愉快的心情，表达了对美好音乐的热爱以及由此带来的快乐和烦恼的释放。整首歌曲充满了活力和正能量，适合在早晨或任何需要活力的时刻聆听。
    《还有什么可以送给你》是陈奕迅在2009年演唱的一首粤语歌曲，收录于专辑《H3M》中。歌曲由周耀辉作词，陈匡荣作曲，刘志远编曲。这首歌探讨了爱情中的无奈和遗憾，表达了对过去感情的思考和对未来的迷茫。

    歌词中提到送给对方的种种美好与经历，但最终留下的却是无奈与遗憾。歌曲的旋律融合了弦乐和吉他，营造出一种渐进的情感氛围。陈奕迅曾表示，只有在三十多岁时才能真正体会这首歌的深意，歌词中反复探讨的不信任和怀疑让人深思。

    整首歌曲以流行风格为主，展现了陈匡荣作为音乐人的才华和对情感的细腻描绘。
    汉典是一个汉字和词语查询平台，提供汉字拆分、部件检索、拼音索引等多种查询方式。网站包含古籍、诗词、书法和通识等内容，用户可以通过多种方式深入了解汉字和相关词汇。

    在条目“还有”的解释中，它的拼音为“hái yǒu”，指的是事物存在的连续性或另外的存在。例句包括“这件事除了我之外，还有谁知道？”以及古文例句。相关的近同音和相关词语也一并列出，方便用户进一步学习和查询。
    该网页主要介绍了汉语词汇“还有”的拼音、意思、近义词、相关成语和造句示例。具体信息包括：

    1. **拼音与意思**：
       - 拼音：hái yǒu
       - 意思：指事物存在的连续性，表示除了这个，另外拥有的东西。

    2. **基本解释**：
       - 指尚有、另有的意思，如“这件事除了我之外，还有谁知道？”

    3. **近义词**：
       - 另有、尚有、再有、又有等。

    4. **相关成语**：
       - 包括“无独有偶”、“后会可期”等。

    5. **造句示例**：
       - 提供了多个使用“还有”的造句示例，展示了其在不同语境中的用法。

    此外，网页还提供了与“还有”相关的词语和成语、以及其他汉语学习资源的链接。
}。上传的文件信息为[]
不要主动介绍自己的信息，负责解答通用问题。不要主动提及xx生物
    """

    # 定义对话消息列表
    messages = [
        {
            "role": "system",
            "content": system_content
        },
        {
            "role": "user",
            "content": "北京国安的最新消息"
        },
        {
            "role": "assistant",
            "content": """
以下是一些近期关于北京国安队较新消息供您参考: 

### 在引援及人员变动方面 
1. 在2024赛季中超联赛前引援成功,已签下古加,特拉奥雷,法比奥等6位外援,聚集14名国脚;预计有一名外援（阿德本罗）转会离队；内援林良铭备受期待,曾有皇马梯队训练经历. 
2. 在刚刚结束 的2024赛季后,功勋球员王刚 和池忠国基本确定续约. 

### 在热身赛方面 
1月21日进行 的一场热身赛中,大连英博以3 - 2逆转战胜北京国安全场比赛,英博 的新援马莱莱贡献一个进球 和一次助攻;开场不久法比奥首开记录,随后乌龙球使国安排暂时领先;下半场马莱莱第78分钟扳平比分,之后助攻阎相闯进球 ,刘逸85分钟进球完成逆转. 

### 在潜在转会传闻方面 
瑞典媒体Fotbolldirekt报道,尤尔加登有意签约前北京安外援助阿德本罗 ,但因他处于伤病恢复期签约未推进;尤尔加登早在去年3月就尝试引进他但因年薪要求谈判未果;目前阿德本罗已与京安解约成自由球员 ,不过因需休战至3月 ,尤尔加登决定暂缓行动 ,而他本人重返瑞典意愿强烈 . 

另外还有对于下赛季首发阵容预测相关情况:采用3 -4 -3阵型 ,门将韩佳奇 ;三中卫分别为左中卫李磊 ,中卫恩加德乌 ,右中卫吴少聪 ;四中场分别是左中前卫塞尔吉尼奥 ,右中前卫达万 ,左边前卫曹永竞 ,右边前卫古加 ;三前锋分别是中锋张玉宁 ,左边锋林良铭 ,右边锋法比奥 .
            """
        },
        {
            "role": "user",
            "content": "北京春节有什么活动？"
        },
        {
            "role": "assistant",
            "content": """
北京市人民政府新闻办公室于 ２０２５ 年１ 月２０ 日宣布在今年（２０２５）春期节间将会围绕 “福满京城春贺神州 ”这一主展开近万场丰富多彩 的化文动活 :  

### (一)传统庙与会灯游会园  
全市共举 将办２４个庙与会灯游会园来增添统传味年其中典经 的地坛庙与会潭龙庙都很值得一去 .  

### (二)文艺演出  
１． 将供提３０００余场节春艺文动活其中包３５３含台共２７３６场精演品出以及１７５项物博馆览展 .  
２．点重剧场博物及馆都全将会面放开 .   

### (三)节春影电  
推 “出电影院里过大 ———新年年观影民惠动活 ”并拿出３３００万元补来助影电票鼓市励民看观节春档片大 .   

### (四)雪冰动运  
１．划策举超办过１００项冬主季题动活以此促冰进雪动运参度与 .   
２．括包种各雪冰动活以发及放费消券等等措施来推冰进雪动运发展 .   

### (五)多元文活化动  
各区根自据身源资势优划策不形同式节春动活例老如号字年华嘉现以代工游业等等形式展开 .  

除此之外还有些一区具域体化文动活 :    

#### (一)东城区  
地坛潭龙两庙大会上示地展方色特食美以及礼好年货供大家赏欣购买 .    

#### (二)西城区  
厂甸庙将于会年初一大幕开推 “出遗非 ”题主列系动活让大家受感统传化文魅力 .    

#### (三)朝阳区  
多个商举场办新迎化文促及销动活其服中有饰扣折陶以瓷术艺展等等容内可以逛购游玩一体享受乐快时光 .    

#### (四)海淀区  
圆明园同庆街举 将办２０２５新游园春会结文合化市集互以及体动感验目项让大家深度入融节氛春日围之中感受浓年味厚     

#### (五)丰台区   
在北京博园园举 “办彩新京春灯彩年华嘉 ”结灯合与会庙容内打造独特游玩验体亮时灯间每是天１７ :００－２１ :００整体营时业间则每是天１０ :００－２１ :００    

另外还有些一景区也有独特新迎化文动活比如兴大彩灯世园界石景游乐山迎春园庙周口店大韩继ＹＵＡＮ味庙八达岭新迎民表俗演光及灯慕田峪新年冰雪年华嘉小汽米车厂工参古北观镇水无人机表舞演龙狮舞西山泉温店酒春晚话茶亲会子等等一系列富丰多彩且适全家合共同参 的新加迎化文娱体目项您可以根据兴趣好爱行选进择前往参加！
            """
        },
        {
            "role": "user",
            "content": "什么可以送给你"
        }
    ]

    # 从环境变量中获取模型端点 ID
    model_endpoint_id = os.environ.get("MODEL_ENDPOINT_ID")
    if model_endpoint_id is None:
        print("请设置环境变量 MODEL_ENDPOINT_ID")
        return

    try:
        # 调用客户端的 chat.completions.create 方法进行多轮对话请求
        completion = client.chat.completions.create(
            model=model_endpoint_id,
            messages=messages
        )
        # 打印助手的回复内容
        print(completion.choices[0].message.content)
        # 打印使用情况
        print(completion.usage)
    except Exception as e:
        print(f"请求出错: {e}")

if __name__ == "__main__":
    get_chat_completion()
