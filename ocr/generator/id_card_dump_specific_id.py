import json
import random
from datetime import datetime, timedelta

# 预设数据池
surnames = [
    "张", "王", "李", "陈", "刘", "杨", "赵", "黄", "周", "吴",
    "徐", "孙", "胡", "高", "林", "何", "郭", "马", "罗", "梁",
    "宋", "郑", "谢", "唐", "许", "邓", "冯", "程", "曹", "廖",
    "潘", "田", "丁", "魏", "姜", "邱", "崔", "袁", "钟", "雷",
    "钱", "邵", "谢", "沈", "韩", "杨", "唐", "蒋", "傅", "邵",
    "郑", "金", "邱", "韦", "蒋", "唐", "汪", "向", "任", "蔡",
    "苏", "欧阳", "司马", "上官", "欧阳", "令狐", "夏侯", "诸葛",
    "南宫", "闵", "毛", "尤", "贾", "缪", "叶", "牛", "孟", "阎"
]
given_names = [
    "伟", "芳", "强", "静", "杰", "敏", "磊", "婷", "浩", "丽",
    "娟", "军", "梅", "洋", "霞", "鹏", "波", "斌", "璐", "明",
    "娜", "华", "翔", "雪", "凯", "琳", "峰", "琳", "宇", "娜",
    "建国", "佳琪", "家豪", "晓东", "文博", "志强", "子龙", "婷婷",
    "志伟", "俊杰", "晓彤", "美丽", "建华", "志鹏", "子怡", "雅婷",
    "永强", "雪婷", "晓涵", "婧怡", "子晨", "宇轩", "梓萱", "佳怡",
    "子豪", "晨曦", "思宇", "志鑫", "梦婷", "欣怡", "世杰", "佳琳"
]
nations = ["汉", "蒙古", "回", "藏", "维吾尔"]
provinces = {
    "北京市": ["海淀区", "东城区", "西城区"],
    "上海市": ["浦东新区", "徐汇区", "黄浦区"],
    "广东省": ["广州市天河区", "深圳市福田区"],
    "江苏省": ["南京市玄武区", "苏州市姑苏区", "无锡市梁溪区"],
    "浙江省": ["杭州市西湖区", "宁波市海曙区", "温州市鹿城区"],
    "河南省": ["郑州市金水区", "洛阳市老城区", "开封市龙亭区"],
    "山东省": ["济南市历下区", "青岛市市南区", "烟台市芝罘区"],
    "湖北省": ["武汉市武昌区", "宜昌市西陵区", "荆州市沙市区"],
    "四川省": ["成都市锦江区", "绵阳市涪城区", "德阳市旌阳区"],
    "陕西省": ["西安市新城区", "宝鸡市渭滨区", "铜川市王益区"],
    "辽宁省": ["沈阳市和平区", "大连市中山区", "鞍山市铁东区"],
    "福建省": ["福州市鼓楼区", "厦门市思明区", "泉州市鲤城区"],
    "安徽省": ["合肥市蜀山区", "芜湖市镜湖区", "蚌埠市禹会区"]
}

id_nums = ["452229200004145414", "610111200403143036","610333200403143036","610444200403143036","610555200403143036","610666200403143036","610777200403143036","610888200403143036","610999200403143036","35050219960826550X","110101198802246955","110101198802246555","610111111111113036","610222222222223036","610333333333333036","610444444444443036","610555555555553036","35050219960826660X","35050219960826440X","35050219960826770X","35050219960826880X","35050219960826990X","35050219960826330X","35050219960826220X","35050219960826110X","610666666666663036","610777777777773036","61088888888888036","6109999999999993036","61000000000000036","61000000000000000","61111111111111111","6222222222222","63333333333333333","644444444444444444"]

# 新增地区代码映射
province_district_codes = {
    "北京市": {
        "海淀区": "110108",
        "东城区": "110101",
        "西城区": "110102"
    },
    "上海市": {
        "浦东新区": "310115",
        "徐汇区": "310104",
        "黄浦区": "310101"
    },
    "广东省": {
        "广州市天河区": "440106",
        "深圳市福田区": "440304"
    },
    "江苏省": {
        "南京市玄武区": "320102",
        "苏州市姑苏区": "320508",
        "无锡市梁溪区": "320213"
    },
    "浙江省": {
        "杭州市西湖区": "330106",
        "宁波市海曙区": "330203",
        "温州市鹿城区": "330302"
    },
    "河南省": {
        "郑州市金水区": "410105",
        "洛阳市老城区": "410302",
        "开封市龙亭区": "410202"
    },
    "山东省": {
        "济南市历下区": "370102",
        "青岛市市南区": "370202",
        "烟台市芝罘区": "370602"
    },
    "湖北省": {
        "武汉市武昌区": "420106",
        "宜昌市西陵区": "420502",
        "荆州市沙市区": "421002"
    },
    "四川省": {
        "成都市锦江区": "510104",
        "绵阳市涪城区": "510703",
        "德阳市旌阳区": "510603"
    },
    "陕西省": {
        "西安市新城区": "610102",
        "宝鸡市渭滨区": "610302",
        "铜川市王益区": "610202"
    },
    "辽宁省": {
        "沈阳市和平区": "210102",
        "大连市中山区": "210202",
        "鞍山市铁东区": "210302"
    },
    "福建省": {
        "福州市鼓楼区": "350102",
        "厦门市思明区": "350203",
        "泉州市鲤城区": "350502"
    },
    "安徽省": {
        "合肥市蜀山区": "340104",
        "芜湖市镜湖区": "340202",
        "蚌埠市禹会区": "340304"
    }
}

def generate_info():
    # 随机生成姓名、性别、民族等
    name = random.choice(surnames) + random.choice(given_names)
    gender = random.choice(["男", "女"])
    nation = random.choices(nations, weights=[80, 5, 5, 5, 5])[0]  # 汉族占比80%
    # 生成出生日期（示例简化）
    birth_year = random.randint(1980, 2000)
    birth_month = random.randint(1, 12)
    birth_day = random.randint(1, 28)
    birth_date = f"{birth_year}年{birth_month:02d}月{birth_day:02d}日"
    # 生成地址与身份证号
    province = random.choice(list(provinces.keys()))
    district = random.choice(provinces[province])
    address = f"{province}{district}华夏路{random.randint(1,999)}号"
    district_code = province_district_codes[province][district]  # 根据 province 和 district 生成 district_code
    #id_num = f"{district_code}{birth_year}{birth_month:02d}{birth_day:02d}{random.randint(100,999):03d}X"
    id_num = random.choice(id_nums)
    # 签发机关与有效期
    authority = f"{province}公安局{district.split('区')[0]}分局"
    issue_date = datetime(birth_year + 20, 1, 1)  # 假设20岁签发
    validity = f"{issue_date.year}.01.01-{issue_date.year + 20}.01.01"
    
    return {
        "name": name,
        "gender": gender,
        "nation": nation,
        "birth": birth_date,
        "address": address,
        "id_num": id_num,
        "authority": authority,
        "validity": validity
    }

# 生成200条数据
data = [generate_info() for _ in range(100)]
with open("id_infos.json", "w", encoding="utf-8") as f:
    json.dump(data, f, ensure_ascii=False, indent=2)
